{% extends 'sb-admin/base.html' %}
{% block content %}
    <div class="row">
      <div class="col-lg-12">
        <h1>Users <small>Edit {{ form.user_name.data }}</small></h1>
        <ol class="breadcrumb">
          <li class="active"><i class="fa fa-dashboard"></i> Users - Edit - {{ form.user_name.data }}</li>
        </ol>
        {% if success %}
            <div class="alert alert-danger alert-dismissable">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              {{ success }}
            </div>
        {% endif %}
        {% if error %}
            <div class="alert alert-danger alert-dismissable">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              {{ error }}
            </div>
        {% endif %}
        {% with messages = get_flashed_messages() %}

            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-success alert-dismissable">
                  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                  {{ message }}
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}
      </div>
    </div><!-- /.row -->

    <form roll="form" name="edit_user" method="post">
    {{ form.hidden_tag() }}
        <div class="row">
          <div class="col-lg-6">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h3 class="panel-title"><i class="fa fa-clock-o"></i> Edit User - <medium>{{ form.user_name.data }}</medium></h3>
              </div>


                {% for field in form %}
                    {% if field.type == "TextField" %}
                        {% if field.name != "user_name" %}
                        <div class="form-group list-group-item">
                            <div class="form-group input-group">
                                <span class="input-group-addon align-left" style="width:140px;">{{ field.short_name.replace("_", " ").title() }}
                                {% if field.flags.required %}
                                    <span style="color: red;">*</span>
                                {% endif %}
                                </span>
                                {{ field(size=60,class="form-control input-small",placeholder="Enter your " + field.short_name.replace("_", " ")) }}
                            </div>
                            {% if field.flags.required %}
                                {% for error in field.errors %}
                                    <span style="color:red;">[{{error}}]</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                        {% endif %}
                    {% endif %}
                    {% if field.type == "BooleanField" %}
                        <div class="form-group list-group-item">
                            <div class="form-group input-group">
                                <span class="input-group-addon align-left" style="width:140px;">{{ field.short_name.replace("_", " ").title() }}
                                {% if field.flags.required %}
                                    <span style="color: red;">*</span>
                                {% endif %}
                                </span>
                                {{ field(class="form-control input-small", style="width:100%;",placeholder="Enter your " + field.short_name.replace("_", " ")) }}
                            </div>
                            {% if field.flags.required %}
                                {% for error in field.errors %}
                                    <span style="color:red;">[{{error}}]</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                    {% endif %}
                    {% if field.type == "SelectField" %}
                        <div class="form-group list-group-item">
                            <div class="form-group input-group">
                                <span class="input-group-addon align-left" style="width:140px;">{{ field.short_name.replace("_", " ").title() }}
                                {% if field.flags.required %}
                                    <span style="color: red;">*</span>
                                {% endif %}
                                </span>
                                {{ field(col=60, class="form-control input-small", style="width:100%;", placeholder="Enter your " + field.short_name.replace("_", " ")) }}
                            </div>
                            {% if field.flags.required %}
                                {% for error in field.errors %}
                                    <span style="color:red;">[{{error}}]</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                    {% endif %}
                    <!--
                    {% if field.type == "PasswordField" %}
                        <div class="form-group list-group-item">
                            <div class="form-group input-group">
                                <span class="input-group-addon align-left" style="width:140px;">{{ field.short_name.replace("_", "").title() }}
                                {% if field.flags.required %}
                                    <span style="color: red;">*</span>
                                {% endif %}
                                </span>
                                {{ field(size=60,class="form-control input-small",placeholder="Enter your " + field.short_name.replace("_", " ")) }}
                            </div>
                            {% if field.flags.required %}
                                {% for error in field.errors %}
                                    <span style="color:red;">[{{error}}]</span>
                                {% endfor %}
                            {% endif %}
                        </div>
                    {% endif %}
                    -->
                {% endfor %}
            </div>
          </div>
        </div><!-- /.row -->

        <div class="form-group">
            <input class="form-control" type="submit" value="Update User">
        </div>
        </form>
{% endblock %}
